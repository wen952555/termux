# Termux Telegram Bot

专为 Termux 和 Ubuntu (PRoot/Chroot) 环境设计的全能监控卫士。

## 🚀 极速部署

一条命令即可完成安装、环境配置和后台启动：

```bash
cd ~/termux && git pull && ./start_bot.sh
```

**脚本将自动执行以下操作：**
1. 检查 Python、Termux API、PM2 等依赖。
2. 自动安装缺失的包。
3. 启动（或重启）后台守护进程。

## 🎮 功能列表

### 监控与控制 (新版)
*   **📸 拍摄照片**: 调用后置摄像头拍照并发送。
*   **📹 录制视频**: 录制 5 秒短视频并发送。
*   **🗑 清理媒体**: 一键删除所有拍摄的照片和视频缓存，释放空间。
*   **🔋 电池信息**: 查看电量、温度和充电状态。

### 系统管理
*   **📊 系统状态**: CPU、内存、磁盘、网络流量实时看板。
*   **🛠 服务探测**: 自动扫描 SSH, MySQL, Web 等常用端口。
*   **🐚 远程终端**: 使用 `/exec` 执行任意 Shell 命令。

## 🤖 机器人指令

*   `/start` - 显示主菜单
*   `/update` - **强制更新** Bot 代码并自动重启
*   `/exec <命令>` - 执行 Shell 命令 (例如: `/exec ls -lh`)

## ⚠️ 常见问题

### 1. Git 冲突 (Merge Error)
如果在更新时遇到错误，请直接在 Bot 中点击 **"🔄 检查更新"** 按钮，或者发送 `/update` 指令。这会强制覆盖本地文件以解决冲突。

### 2. 摄像头无法使用 (权限问题)
要使用照片和视频功能：
1.  确保手机已安装 **Termux:API** 应用。
2.  在 Android 设置中授予 Termux **相机** 和 **麦克风** 权限。
3.  如果是在 Ubuntu (PRoot) 下运行，Bot 会尝试自动寻找 Termux 命令，但建议尽量在原生 Termux 环境下运行 Bot 以获得最佳硬件兼容性。
